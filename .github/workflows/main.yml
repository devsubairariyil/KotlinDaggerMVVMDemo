# .github/workflows/main.yml

name: My CI/CD Workflow

on:
  push:
    branches:
      - '*' # Run on every push to any branch
  pull_request:

jobs:
  strategy_job:
    name: Create Strategy Config
    runs-on: ubuntu-latest

    steps:
      - name: Set up code
        uses: actions/checkout@v2

      - name: Set secret text to variable
        run: |
                SECRET_TEXT="Secret data"
                echo "SECRET_TEXT=$SECRET_TEXT" >> $GITHUB_ENV

      - name: Encrypt secret using OpenSSL
        id: encrypt
        run: |
                # Read the secret text from the variable
                SECRET_TEXT=${{ env.SECRET_TEXT }}
                
                # Encrypt using AES-256-CBC and a passphrase
                ENCRYPTED_SECRET=$(echo -n '$SECRET_TEXT' | openssl enc -aes-256-cbc -e -base64 -pass pass:yourpassphrase)
                echo "ENCRYPTED_SECRET=$ENCRYPTED_SECRET" >> $GITHUB_ENV

      - name: Show encrypted secret
        run: echo $ENCRYPTED_SECRET




